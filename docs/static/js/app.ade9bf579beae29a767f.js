webpackJsonp([1],{KRRK:function(t,e){},MQVT:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("xd7I"),s=(a("KRRK"),a("OYbX"),{name:"mediaItem",props:{item:{type:Object,required:!1}}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-col",{attrs:{cols:"6",align:"left"}},[a("b-container",[a("b-row",[a("b-col",{attrs:{cols:"2"}},[a("b-img-lazy",{attrs:{slot:"aside",src:t.item.images.small,width:"67",height:"100",col:"3"},slot:"aside"})],1),t._v(" "),a("b-col",[a("h6",[a("b",[t._v(t._s(t.item.title))]),t._v(" "),a("small",t._l(t.item.genres,function(e){return a("b-badge",{key:e,staticStyle:{"margin-left":"5px"},attrs:{pill:"",variant:"primary"}},[t._v(t._s(e)+"\n            ")])}),1)]),t._v(" "),a("h6",[t._v("\n          上映时间："+t._s(t.item.year)+" "),a("br"),t._v("\n          其他名字："+t._s(t.item.original_title)),a("br"),t._v(" "),a("b-button",{attrs:{href:t.item.alt,size:"sm",variant:"primary"}},[t._v("豆瓣链接")]),t._v(" "),a("b-button",{attrs:{size:"sm",variant:"success"},on:{click:function(e){return t.$emit("searchRaRbg",t.item.original_title+" "+t.item.year)}}},[t._v("搜RARBG")])],1)])],1)],1)],1)},staticRenderFns:[]};var i=a("C7Lr")(s,r,!1,function(t){a("sKdx")},"data-v-69121395",null).exports,o={name:"rarbgItem",props:{item:{type:Object,required:!1}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"text-info"},[a("b-link",{attrs:{href:t.item.download},on:{click:function(e){return e.preventDefault(),t.$emit("downloadML",t.item.download)}}},[t._v(t._s(t.item.title))]),t._v(" "),t._l(t.item.category.split("/"),function(e){return a("b-badge",{key:e,staticStyle:{"margin-right":"5px"},attrs:{variant:"primary"}},[t._v(t._s(e)+"\n  ")])}),t._v(" "),a("b-badge",{attrs:{variant:"dark"}},[t._v("\n    "+t._s((t.item.size/1024/1024/1024).toFixed(2))+" GB\n  ")]),t._v(" "),a("b-badge",{attrs:{variant:"info"}},[t._v("\n    "+t._s(t.item.seeders)+"/"+t._s(t.item.leechers)+"\n  ")])],2)},staticRenderFns:[]};var l={components:{mediaItem:i,rarbgItem:a("C7Lr")(o,c,!1,function(t){a("ngiH")},"data-v-6e1edba6",null).exports},name:"FindNames",data:function(){return{trURL:"http://172.17.128.23:9091/transmission/rpc",showRes:!1,showRarbg:!1,res:{},InputName:"",rarbgRes:{},status:0,tmpMsg:"unknow",statusInfo:{0:["dark","尚无输入"],1:["dark","等待输入结束"],2:["warning","正在搜索豆瓣"],3:["success","✓"],4:["danger","与 rarbg 的通讯出现问题"],5:["warning","正在向 transmission 发送请求"],6:["danger",this.tmpMsg],7:["danger","已完成搜索，但是没有结果"],8:["warning","正在搜索rarbg"]},visible:[!1,!1]}},watch:{InputName:function(t,e){this.status=1,this.debouncedGetDouban()}},created:function(){this.debouncedGetDouban=this.lodash.debounce(this.getDouban,1200)},methods:{getDouban:function(){this.status=2;var t=this;this.$jsonp("https://api.douban.com/v2/movie/search?q="+this.InputName).then(function(e){console.log(e),e.total>0?(t.status=3,t.showRes=!0,t.res=e,t.visible=[!0,!1]):t.status=7,console.log()})},searchRaRbg:function(t){this.status=8;var e=this;console.log(t),this.axios.get("/api/searchRarbg?q="+t).then(function(t){e.rarbgRes=t.data,e.status=3,e.visible=[!1,!0],e.showRarbg=!0,console.log(t.data)}).catch(function(){e.status=4})},downloadML:function(t){var e=this;this.tmpMsg="正在获取 transmission 的授权",this.status=6,this.axios.post("/api/download?q="+encodeURI(t),{q:t}).then(function(t){e.status=3}),console.log(encodeURI(t))}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{"margin-top":"20px"}},[a("b-jumbotron",{attrs:{header:"Avenger Torrent",lead:"A torrent Finder and Downloader By Kwlic","border-variant":"dark"}},[a("hr"),t._v(" "),a("div",{attrs:{role:"tablist"}},[a("b-input-group",{staticStyle:{"margin-bottom":"10px"},attrs:{prepend:"电影名"}},[a("b-input-group-text",{class:"text-"+t.statusInfo[t.status][0],attrs:{slot:"append"},slot:"append"},[t._v(t._s(t.statusInfo[t.status][1])+"\n        ")]),t._v(" "),a("b-form-input",{attrs:{id:"InputName",placeholder:"输入电影名"},model:{value:t.InputName,callback:function(e){t.InputName=e},expression:"InputName"}})],1),t._v(" "),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion1",modifiers:{accordion1:!0}}],attrs:{block:"",href:"#",variant:"info"}},[t._v("电影名字搜索结果-by name")])],1),t._v(" "),a("b-collapse",{attrs:{id:"accordion1",accordion:"my-accordion",visible:t.visible[0],role:"tabpanel"}},[a("b-card-body",[t.showRes?a("b-container",{staticClass:"pre-scrollable border-success"},[a("b-row",t._l(t.res.subjects,function(e){return a("mediaItem",{key:e.id,attrs:{item:e},on:{searchRaRbg:t.searchRaRbg}})}),1)],1):a("div",[t._v("现在这里还没有东西")])],1)],1)],1),t._v(" "),a("b-card",{staticClass:"mb-1",attrs:{"no-body":""}},[a("b-card-header",{staticClass:"p-1",attrs:{"header-tag":"header",role:"tab"}},[a("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.accordion2",modifiers:{accordion2:!0}}],attrs:{block:"",href:"#",variant:"info"}},[t._v("RARBG 结果")])],1),t._v(" "),a("b-collapse",{attrs:{id:"accordion2",accordion:"my-accordion",visible:t.visible[1],role:"tabpanel"}},[a("b-card-body",[t.showRarbg?a("ul",t._l(t.rarbgRes,function(e){return a("rarbgItem",{key:e.title,attrs:{item:e},on:{downloadML:t.downloadML}})}),1):a("div",[t._v("现在这里还没有东西")])])],1)],1),t._v(" "),a("transition",{attrs:{name:"slide-fade"}})],1)])],1)},staticRenderFns:[]};var u=a("C7Lr")(l,d,!1,function(t){a("MQVT")},"data-v-024a4d86",null).exports,b={components:{Avenger:u}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{"text-align":"center"}},[e("Avenger")],1)},staticRenderFns:[]},v=a("C7Lr")(b,m,!1,null,null,null).exports,p=a("KGCO");n.a.use(p.a);var g=new p.a({routes:[{path:"/",name:"Avenger",component:u}]}),h=a("VFbf"),f=a.n(h),_=a("aMfw"),R=a.n(_),w=a("aozt"),y=a.n(w),x=a("3khs"),I=a.n(x),k=a("Poa6"),N=a.n(k);n.a.use(R.a,{name:"lodash"}),n.a.use(I.a,y.a),n.a.use(N.a),n.a.use(f.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:g,components:{App:v},template:"<App/>"})},OYbX:function(t,e){},ngiH:function(t,e){},sKdx:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ade9bf579beae29a767f.js.map